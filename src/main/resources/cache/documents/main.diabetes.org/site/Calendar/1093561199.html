<!DOCTYPE html>
<html>

<head>
<base href="http://main.diabetes.org/site/" />
<title>American Diabetes Association:  </title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="Keywords" content=" " />
<meta name="Description" content="" />
<meta name="Robots" content="index, follow" />









<script type="text/javascript" src="../yui3/yui/yui-min.js"></script><noscript>&nbsp;</noscript>
<script type="text/javascript" src="../js/convio/modules.js?version=2.9"></script><noscript>&nbsp;</noscript>
<script type="text/javascript">
var Y = YUI({base: '../yui3/',
insertBefore: 'yui_marker_loader_css', // insert all YUI module css before customstyle so it can be overridden
debug: false, 
modules: getModules('../', 'convio', false)});
</script><noscript>&nbsp;</noscript>




<script type="text/javascript" src="../js/utils.js"></script><noscript>&nbsp;</noscript>

<script type="text/javascript" src="../js/obs_comp_rollup.js"></script><noscript>&nbsp;</noscript>


<link href="../css/themes/default.css" rel="stylesheet" type="text/css" />
<link href="../css/themes/alphacube.css" rel="stylesheet" type="text/css"/>


<link href="../css/UserGlobalStyle.css" rel="stylesheet" type="text/css" />


<link href="../css/v2/CalendarEvent.css" rel="stylesheet" type="text/css" />




<link rel="stylesheet" type="text/css" id="yui_marker_loader_css" />
<link href="../css/CustomStyle.css" rel="stylesheet" type="text/css" />
<link href="../css/CustomWysiwygStyle.css" rel="stylesheet" type="text/css" />






<meta name="CnvHeaderVersion" content="v5.0" />


<!-- ADDITIONAL METAS -->
<!--<meta name="author" content="Daniel Hartanto" />-->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8"/>

<meta property="og:title" content="American Diabetes Association - American Diabetes Associationï¿½"/>
<meta property="og:description" content="The American Diabetes Association is leading the fight against the deadly consequences of diabetes and fighting for those affected by diabetes."/>
<meta property="og:url" content="http://main.diabetes.org/site/Calendar/2010290692?view=Detail&amp;id=46842"/>
<meta property="og:image" content="https://donations.diabetes.org/dorg/images/stopd-icon.png"/>  
<meta property="og:site_name" content="American Diabetes Association"/>

<meta name="google-site-verification" content="hrjqf-8rXSNynxTAx-DPtv0ljrcaVIi02Vee-U4nWh" />


<link rel="shortcut icon" href="../images/ada_favicon.ico" type="image/vnd.microsoft.icon" />


<!--when on EMC exclude-->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script type="text/javascript">
//fallback reload 1.6.4 if LO jQuery throws undefined 
if (!window.jQuery) {
  var jqlo = document.createElement('script'); 
  jqlo.type = 'text/javascript';  
  jqlo.src = '../ws/js/jquery164.min.js';
  document.getElementsByTagName('head')[0].appendChild(jqlo);
}
</script>


<!-- EXTERNAL CSS DEPENDENCIES -->
<!-- CDN -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css" />
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css">
<!-- LOCAL -->
<link rel="stylesheet" href="../ws/css/magnific-popup-min.css">





<link href="//fonts.googleapis.com/css?family=Roboto:400,400italic,500,500italic,700,700italic,300,300italic" rel='stylesheet' type='text/css' />
<link rel="stylesheet" href="../dorg/assets/css/base.css" />

<!-- ADD ON CSS -->
<style>
p,li,a,span,div,td, blockquote,li{font-size:11pt;line-height:1.2em;}
#nav-primary a{font-size:10pt;}
a:link, a, a:hover, a:visited {color:#C41230;text-decoration:none;}

div#keepAlive_c {
    padding: 10px;
    background-color: #FFFFEA;
border:solid 1px #000;
}
.button-group span {margin:3px;}


.cons-pers input#op\.cnclAddCons-top, .cons-pers input#op\.cnclAddCons {
  color: #FFF; s
}

#login-div-content .input-border {
  padding-left:5px;
  padding-right:5px;
}

input{margin-top:3px;margin-bottom:2px;max-width:200px;}
select{max-width:200px;}
td{padding-top:5px;padding-bottom:5px;}

#site-footer .vcard * {
    vertical-align: top;
}

#appAreaNoWidthClearFix {
  width: 90%;
padding:5px;
}
#login-div-content .outer-border {
  padding:5px;
}


#site-search input {
  width: 120px;
}
.button:hover, .button:active, .button:focus,input[type="button"]:hover, input[type="button"]:active,input[type="button"]:focus, button:hover, button:active,button:focus{
  opacity: 0.8;
 background:transparent !important;
}

button.mfp-close:hover {background:transparent !important;}



.oriDORG{display:none;clear:both;}
#signintogglemobile{display:none;text-align:center;background-color:#f3b700;color:#FFF;cursor:pointer;padding-top:5px;padding-bottom:5px;}

button#donor_matching_employersearchBtn.step-button.action-button, button#pstep_cancel, button#pstep_next, button#pstep_previous, button#pstep_finish {
  background-color: #c41230 !important;
  color: #ffffff !important;
  border: none !important;
  font-size: 16px !important;
  width: 100px !important;
  cursor: pointer !important;
  font-weight: bold !important;
  line-height: 16px !important;
  background-image: none !important;
  padding: 8px 18px !important;
  border-radius: 4px !important;
  text-decoration: none !important;  
  margin:2px;
}

.form-progress-bar{margin-top:20px}

/*TeamRaiser Entry*/
#search_part_team div.ui-tabs-panel input {    
    height: auto;
}
#site-footer .tel {
  margin-top: 0;
}

/*#CTALogin{
  position: absolute;
  top: 45px;
  right: 80px;
  text-align: right;
  background-color:#FFE599;
  padding-top:5px;
  padding-bottom:15px;
padding-left:15px;
padding-right:15px; 
border:solid 1px #008C8C; 
}*/
#CTALogin{
	position:fixed; top:50% !important;left:50% !important; transform: translate(-50%, -50%);-webkit-transform:translate(-50%,-50%);
	text-align: right;
  background-color:/*#FFE599*/#EBEBEB;
  padding-top:5px;
  padding-bottom:15px;
padding-left:15px;
padding-right:15px; 
border:solid 1px #CCC;
z-index:1000;
}
#CTALogin span{
float:none;
margin-right:0px;
}

#login-btn{
border: 0;
padding: 0;
}
.nav-utility {
  margin-right: 145px;
}


/*Ticketed Event*/
.ticket-class-details-dialog{position:fixed; top:50% !important;left:50% !important; transform: translate(-50%, -50%);}
.lo-BorderHeaderBar{margin-bottom:5px;}
LABEL, label{white-space:normal;}
label{font-size:10pt;margin-right:5px;margin-top:3px;margin-bottom:3px;}
.label, .value {float:none;display:block;}
.label {text-align:left;}
div.consRegFieldContainer label {
    margin-left: 5px;
}
.appArea {max-width:800px;min-width:300px;width:100%;}
div.responsive {max-width:896px;min-width:300px;width:100%;}
.mobile div.responsive {
max-width:896px;min-width:300px;width:100%;
}
.lo-EventBorderContainer{margin-top:10px;margin-bottom:10px;}
div.luminate-eventAppArea {
max-width:892px;
min-width:300px;
width: 100%;
display: block;
position:relative;
margin-left:auto;
margin-right:auto;}

#adaActualContent{padding-top:20px;padding-bottom:20px;max-width:1000px;min-width:300px;width:100%;}

div.consRegFieldContainer .fieldContainer .field-row {
max-width:400px;    
width: 80%;
min-width:250px;
}
div.field-container div.field-row.error {
overflow:auto;
}
div.lo-CalendarDateInfoContainer {
    width: 100%;
}

div.consRegFieldContainer .fieldContainer {
display: inline-block;
max-width:400px;    
width: 90%;
min-width:300px;
}
div.consRegFieldContainer .fieldContainer .field-row .label {
float: left;
max-width:150px;
width:100%;
color:#000;
}

#adaActualContent{overflow:auto;}

/*Ticketed Event*/

#site-footer > .wrapper {padding:0;}
#site-footer .vcard {top:-2em; position:static; text-align:center;}
#site-footer .vcard * {display:inline-block;}
#site-footer .vcard br {position:absolute; display:none;}
.vcard .street-address {padding:0 6px;}
.vcard .tel {padding-left:6px;}
.vcard .fn:after, .vcard .street-address:after, .vcard .postal-code:after {
    color: #007788;
    content:'\2022';
    display: inline-block;
    margin-left: 10px;
}
.vcard span, #site-footer .fn {
margin-left:4px;
}

.copyright {border-top:0 !important; text-align:center !important;}

#layout > .wrapper {padding-top:1em; padding-bottom:1em;overflow:inherit;}

#site-header {border-top:0;}

#btn-search {background-image:url(../dorg/images/2013-template/icn-template.png);}

/*#btn-banner-bar {display:none;}*/
/*span#btn-nav, span#btn-search{display:none;}*/
/*#banner-bar .left, #banner-bar .right{display:none;}*/


#reusDORGHSearchCOM {
  text-align: right;   
  min-width: 300px;
  margin: 0 auto;
  max-width: 1200px;
  padding: 20px 3%;
  margin: 0 auto;
  clear: both;
  /*position: relative;*/
  position:absolute;
  top:30px;
  right:20px;
}
#site-search{position:relative;}
#site-search label {display:none;}

#site-search input {
  margin-top: 0px; 
  margin-bottom: 0px;
}

#reusDORGHeaderCOM{
margin-top:45px;	
}
/*#reusDORGBrandbarCOM{padding-bottom:35px;}*/
#btn-donate-2014{
top:50px;
bottom:auto;
max-width:400px;
width:100%;
}
/*Removed Header from pg=#national_top_teams*/
#national_top_teams_responsive h2.cstmTitle  {
display:none;
}

/*Removed Header from pg=#natl_co_parts*/
form[name="top_teams"] h2.cstmTitle  {
display:none;
}

@media screen and (min-width: 681px){
#site-logo a img {
  height: auto%;
  max-width: 247px;
}
}

@media screen and (min-width:681px) and (max-width:820px){
/*#CTALogin{
width:45%;
text-align:left;
}
#CTALogin span{
float:right;
margin-right:25px;
}*/
#btn-member-2014 {
  top: 115px;
}
.nav-utility{right:0px !important;margin-right:0px !important;}	

}

@media screen and (max-width:889px){
.nav-utility {
  right:2em;
  margin-right: 135px;
}
}

@media screen and (min-width:681px) and (max-width:722px){
#CTALogin{

text-align:left;
}

#CTALogin span{
float:right;
margin-right:25px;
}
}

@media screen and (min-width:681px) and (max-width:779px){
	.hidden-xs{display:block !important;}
}




@media screen and (min-width:681px) and (max-width:999px){
/*#btn-donate-2014 {
  right:35%;
  width:150px;  
  text-align: center;
  padding-right:0px;
}
#btn-donate-2014 strong a {
  margin: 0;
  padding: 2px;
  float: left;
  font-size: 0.75em;
  color: #fff;
  text-transform: uppercase;
  background: #c31331;
  border-left: 0;
  display:block !important;
clear:both !important;
width:150px;
}
#btn-donate-2014 a{
border-left:none;
font-size: 0.75em;
text-decoration: none;
}*/
#reusDORGHSearchCOM {
  right:0px;
}
#btn-donate-2014 strong a {font-size:0.75em;}
#site-search {
 top:25px;
}
}

@media screen and (max-width: 1000px){
#site-search input {
  margin-top: 0px; 
  margin-bottom: 0px;
  text-align: left; 
}

#site-search {
  margin-left:10px;
  max-height: none;
height:50px;
  width: 100%;
  float: left;
  overflow: hidden;
  position: relative;
  text-align: right;
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
padding-top:5px;
}
}

@media screen and (min-width:681px) and (max-width:700px){
.nav-utility{display:block !important;right:0px !important;margin-right:0px !important;}	
#nav-primary{display:block !important;}
#banner-bar {display:block !important;}

#reusDORGHSearchCOM {
display:block !important;
  top: 45px;
  right: 10px;
}
#btn-donate-2014{
top:-165px;

}

#btn-member-2014 {
  top: -100px;
}
#site-search {
  top: 40px;
}
}

@media screen and (max-width: 680px){

#site-logo a img {
  height: auto;
  max-width: 40%;
  margin-top:-10px;
}

/*#adaActualContent{padding-top:70px;}*/
#signintogglemobile{display:block;}
#btn-member-2014 {
  max-width:400px;
  width:100%;
  margin:3px auto;
}
#btn-donate-2014 {
  margin: 5px auto;
}
#reusDORGHSearchCOM {
  position: relative;
}
#reusDORGHSearchCOM{padding-top:0px;padding-bottom:20px;height: 50px;position: relative;top:0;right:0;}
#reusDORGHeaderCOM{
margin-top:0px;	
}
#login-container{display:none;}
#CTALogin { 
  width:100%;
  position: relative;
  padding:0px;
  right:auto;
  top:auto !important;
  left:auto !important;
  transform:none;
  -webkit-transform:none;
  text-align: left; 
  border:0px;
  display:block;
  z-index:0;
  /*margin-top:75px;*/
}
#CTALogin span{
float:right;
margin-right:25px;
}

#site-search input {
  margin-top: 0px; 
  margin-bottom: 0px;
}

/*#reusDORGHMainNavCOM{padding-top:50px;}*/
#bb-american-diabetes-association{display:none}
#banner-bar ul li a {
height: 40px;
}
#banner-bar ul {
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  transition: none;
}
#banner-bar .close{display:none;}
#banner-bar {
  display:none;
  width: 100%;

  left: 0;
  top: 0px;
  -webkit-transform: none; 
  -moz-transform: none;
  -ms-transform: none;
  -o-transform: none;
  transform: none; 
  background: #ffffff;
  position:relative;
}
#reusDORGHSearchCOM{display:none;}
#site-header, #site-header:before, #site-header:after {
height:65px;
}
#site-logo {
height:60px;
}

#reusDORGHSearch{display:block;}
.vcard .fn:after, .vcard .street-address:after, .vcard .postal-code:after {
		display:none;
content:'';
	}
#btn-donate-2014 {
 /* margin-top: 160px;*/
 margin-top:50px;
}
th > p {font-size:11px;}
td > div {font-size:11px;}
td {font-size:11px;}
td > a{font-size:11px;}
td.lc_Cell{padding:1px;}
th.lc_Heading, th.lc_HeadingSort {
padding: 3px;
}
#billing-info-container, #lo-ticketClassesContainer{overflow:auto}

#nav-primary, .esp #nav-primary {
  margin-top: 0px;
  width: 100%;
  float: none;
  position: relative;
  top: 0;
  right: 0;
  -webkit-transform: none; 
  -moz-transform: none;
  -ms-transform: none;
  -o-transform: none;
  transform: none; 
  display:none;
}
#nav-primary .close {
  display:none;
}

}

</style>

<!--[if lte IE 8]>
<style>
#banner-bar{background-color:#F2EFEF}
#btn-donate-2014{
left:620px;
margin-right:0;
right:auto;
}
#reusDORGHMainNav {text-align:center;border-bottom:#f3b700 5px solid;}
#reusDORGHMainNav li{display:inline-block;zoom:1;*display:inline;width:125px;}
#reusDORGHMainNav a{font-size:11px;}
#reusDORGHMainNav span{font-size:11px;}
.nav-utility{margin-right:155px;}
#btn-member-2014{top:15px;}
</style>
<![endif]-->


<!-- BING -->
<script type="text/javascript">(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:"5175609"};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");</script><noscript><img src="//bat.bing.com/action/0?ti=5175609&Ver=2" height="0" width="0" style="display:none; visibility: hidden;" /></noscript>



<!-- Google Analytics -->
<script type="text/javascript">
function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i=0; i<ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1);
        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
    }
    return "";
}
function checkCookie(whichCookie) {
    var ftimereg=getCookie(whichCookie);
    if (ftimereg=="y") {
        return true;
    }
}
</script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

//Initiation 
ga('create', 'UA-2200333-63', 'auto');


//Initiation -66
ga('create', 'UA-2200333-66', 'diabetes.org', 'REDtracker');

//Logged In - Custom Dimension 1

//Source Code - Custom Dimension 2


//Convio Fix for referrers
if (typeof CONVIO!="undefined" && CONVIO){
    if (CONVIO.referrer.length != 0) {
	  ga('set', 'referrer', CONVIO.referrer);      
    }
}

//this will pass the entire Convio Page URL
ga('send', 'pageview', 'http://main.diabetes.org/site/Calendar/2010290692?view=Detail&id=46842');

//REDtracker
var rturl = document.location.href;
rturl = rturl.toLowerCase();
if ((
(rturl.indexOf("/site/donation2")  >=0) 
|| (rturl.indexOf("donations.diabetes.org/site/spageserver?") >=0)
|| (rturl.indexOf("donations.diabetes.org/site/spagenavigator") >=0)
|| (rturl.indexOf("www.diabetes.org") >=0) 
|| (rturl.indexOf("/goh/")  >=0) 
)
&&  (!(rturl.indexOf("fr_id=")>=0 )) 
&&  (!(rturl.indexOf("NEXTURL=")>=0 ))
)
{
 //console.log('URL:' + rturl.indexOf("donations.diabetes.org/site/spagenavigator"));
 //console.log(document.location.href.indexOf("donations.diabetes.org/site/SPageNavigator/"));
//First clean up and break the main URL 
    var trackingURL;
    var baseURL=[];
    if (rturl.indexOf(";jsessionid") >= 0) //take out the session id
	{ 
	       rturl = rturl.substring(0,rturl.indexOf(";jsessionid")) + rturl.substring(rturl.indexOf("?"));
		
	} 

    if (rturl.indexOf("#sthash") >= 0) //take out the sthash
	{ 
	       rturl = rturl.substring(0,rturl.indexOf("#sthash"));
		
	} 	 


	if (rturl.indexOf("?") >= 0)
		{ 
 
        	baseURL = rturl.split("?");
                //console.log('baseURL: ' + baseURL);
		} 
	else 
		{	
            baseURL[0] = rturl;	
            //console.log('baseURL2: ' + baseURL[0]);	
		}


		if (rturl.indexOf("www.diabetes.org") >=0) 
		{
			trackingURL= baseURL[0];
                        //console.log('trackingURL1: ' + trackingURL);
		}
		else 
		{
			//Start the formatting process 
			trackingURL= baseURL[0]+"?"; 
                        //console.log('trackingURL2: ' + trackingURL);
			
	 //for URLs with no parameters
		if (!(baseURL[1])) {
                    var paramsURL = baseURL[0].split("&");
               } else {
                  var paramsURL = baseURL[1].split("&");
                      } 
	
		//this is only for dForms -- move inside IF
		for (var i=0;i<paramsURL.length;i++)
		{ 
			if  (paramsURL[i].indexOf("df_id")!=-1){
			trackingURL = trackingURL  +  paramsURL[i]+"&";
                        //console.log('trackingURL3: ' + trackingURL);
                break;
                        
			}
		}
    
		for (var i=0;i<paramsURL.length;i++)
		{ 
			if  (paramsURL[i].indexOf(".donation=")!=-1) { 
			trackingURL = trackingURL  +  paramsURL[i];
                        //console.log('trackingURL4: ' + trackingURL);
                break;
                        
			}
		}	

		for (var i=0;i<paramsURL.length;i++)
		{ 
			if (paramsURL[i].indexOf("pagename")!=-1) {
			trackingURL = trackingURL  +  paramsURL[i];
                        //console.log('trackingURL5: ' + trackingURL);
                break;
			}
		}	
	
		} //End of formatting process for dForms
            //console.log('trackingURL6a: ' + trackingURL);
		if (trackingURL.indexOf("https") >= 0) {
			trackingURL = trackingURL.replace(/^https?:\/\//,'');
                        //console.log('trackingURL6: ' + trackingURL);
		} else { 
			trackingURL = trackingURL.replace(/^http?:\/\//,'');
                        //console.log('trackingURL7: ' + trackingURL);
		}
		
	//end else if there is URL parameter

//Track the reformatted URL as a pageview 
 ga('REDtracker.send','pageview', trackingURL);
//console.log('pageview: ');
//console.log(trackingURL);
} //End Tracking condition.
//Redtracker

ga('require', 'ecommerce','ecommerce.js');
//ecommerce donation thank you


//ecommerce registration thank you



//REDTracker


 

</script>
<!-- End Google Analytics -->


<!-- RED reus portion -->


<!-- not a donation form, no error tracking -->



 

</head>
<body












ng-app="" id="ng-app" class="mobile"  
>	

<!-- Google Tag Manager -->
<script type="text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5QPFWP');</script>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5QPFWP"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager -->

<div id="debugDH2" style="display:none;">2</div>
<div id="viewport-outer-wrapper">
<div id="viewport-inner-wrapper">

<div id="reusDORGBrandbarCOM"></div>
<div id="reusDORGBrandbar" class="oriDORG"></div>

<div id="site-header">
<div class="wrapper">

<div id="reusDORGHeaderCOM"></div>
<div id="reusDORGHeader" class="oriDORG">
<!--[if lt IE 8]>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p align="center"><strong>
<a href="https://donations.diabetes.org/site/Donation2?df_id=19045&19045.donation=form1&loc=header&s_src=dorg&s_subsrc=donate-today">Donate Today!</a>
<br>
<a href="http://www.diabetes.org/in-my-community/become-a-member/?loc=header">Become a Member</a></strong>
<br><br>
This site is best viewed in Internet Explorer 8 or later.</p>
<![endif]-->
<h1 id="site-logo"><a href="http://www.diabetes.org?loc=logo"><img src="../dorg/images/2013-template/ada-logo.png" alt="American Diabetes Association" /></a></h1>
<p><a id="btn-donate" href="https://donations.diabetes.org/site/Donation2?df_id=19045&19045.donation=form1&loc=header&s_src=dorg&s_subsrc=donate-today"><span>Donate Today!</span></a><a id="btn-member" href="http://www.diabetes.org/in-my-community/become-a-member/?loc=header"><span>Become a Member</span></a></p>
<div id="btn-donate-2014">
<strong><a href="https://donations.diabetes.org/site/Donation2?df_id=19045&19045.donation=form1&loc=header&s_src=dorg&s_subsrc=donate-now">Donate Now!</a></strong>
<a class="first" href="https://donations.diabetes.org/site/Donation2?df_id=19045&19045.donation=form1&loc=header&s_src=dorg&s_subsrc=one-time">One Time</a>
<a href="https://donations.diabetes.org/site/Donation2?df_id=18784&18784.donation=form1&loc=header&s_src=dorg&s_subsrc=monthly">Monthly</a>
<a href="https://donations.diabetes.org/site/Donation2?df_id=19105&19105.donation=form1&loc=header&s_src=dorg&s_subsrc=in-memorial">In Memory</a>
<a href="https://donations.diabetes.org/site/Donation2?df_id=18884&18884.donation=form1&loc=header&s_src=dorg&s_subsrc=in-honor">In Honor</a>
</div>
<!-- end #btn-donate-new -->
<p><a id="btn-member-2014" href="http://www.diabetes.org/in-my-community/become-a-member/?loc=header"><span>Become a Member</span></a></p>

</div>

<div id="reusDORGNavUtilCOM">
</div>
<div id="reusDORGNavUtil" class="oriDORG">
<nav class="nav-utility">
<ul>
<li><a href="http://www.diabetes.org/es/?loc=util-header_es">En Espa&ntilde;ol</a></li>
<li><a href="http://www.diabetes.org/diabetes-basics/type-1/?loc=util-header_type1">Type 1</a></li>
<li><a href="http://www.diabetes.org/diabetes-basics/type-2/?loc=util-header_type2">Type 2</a></li>
<li><a href="http://www.diabetes.org/about-us/?loc=util-header_aboutus">About Us</a></li>
<li><a href="http://community.diabetes.org/?loc=util-header_connect">Online Community</a></li>
<li><a href="http://www.shopdiabetes.org/meal-planning.aspx?loc=util-header_shop&source=dorg" target="_blank">Meal Planning</a></li>

<li><a href="SPageServer?pagename=CC_Home&loc=utilitynav&s_src=dorg&s_subsrc=cc">Sign In</a></li>

</ul>

</nav>
</div>



</div> <!-- end .wrapper -->
</div> <!-- end #site-header -->

<div id="reusDORGHSearchCOM"></div>
<div id="reusDORGHSearch" class="oriDORG">
<form id="site-search" action="http://google.diabetes.org/search" method="get">
    <input type="hidden" name="site" value="Diabetes"/>
    <input type="hidden" name="client" value="diabetes"/>
    <input type="hidden" name="entqr" value="3"/>
    <input type="hidden" name="oe" value="ISO-8859-1"/>
    <input type="hidden" name="ie" value="ISO-8859-1"/>
    <input type="hidden" name="ud" value="1"/>
    <input type="hidden" name="proxystylesheet" value="diabetes"/>
    <input type="hidden" name="output" value="xml_no_dtd"/>
    <input type="hidden" name="proxyreload" value="1">
    <label for="keyword">Search:</label><input id="keyword" name="q" type="search" /> <button class="search">Search</button>
</form>
<span id="btn-banner-bar"><span>More Sites</span></span>
<span id="btn-search">Search</span>
<span id="btn-nav">&equiv;</span>



</div>

<div id="reusDORGHMainNavCOM"></div>
<div id="reusDORGHMainNav" class="oriDORG">

<nav id="nav-primary" role="navigation">
  <ul>
    <li class=""><a href="http://www.diabetes.org/are-you-at-risk/"><span>Are You</span> <span>At Risk?</span></a></li>
    <li class=""><a href="http://www.diabetes.org/diabetes-basics/"><span>Diabetes</span> <span>Basics</span></a></li>
    <li class=""><a href="http://www.diabetes.org/living-with-diabetes/" ><span>Living with</span> Diabetes</a></li>
    <li class=""><a href="http://www.diabetes.org/food-and-fitness/"><span>Food &amp;</span> Fitness</a></li>
    <li class=""><a href="http://www.diabetes.org/in-my-community/"><span>In My</span> Community</a></li>
    <li class=""><a href="http://www.diabetes.org/advocacy/">Advocacy</a></li>
    <li class=""><a href="http://www.diabetes.org/research-and-practice/"><span>Research &amp;</span> Practice</a></li>
    <li class=" "><a href="http://www.diabetes.org/donate/"><span>Ways to</span> Give</a></li>
  </ul>
  <span class="close">Close</span>
</nav>

</div>

<div id="reusDORGLogin" class="oriDORG"><div id="CTALogin">
     
      <div id="signintogglemobile">Sign In</div>   
      <div id="login-container" style="padding:10px;">        
        <span style="float:left;"><strong>Login</strong></span><span><a href="SPageServer?pagename=CC_PasswordRecovery" id="need-help" style="font-size: .75em;" target="_blank">Password Help</a></span>  
<div class="clearfix" style="height:20px;">&nbsp;</div>      
        <form id="login-form" name="login-form" >
        <input type="hidden" name="method" value="login" />
          <div style="float:left;width:160px;text-align:left;">Username:<br />
          <input id="username" type="text" name="user_name" style="width:150px;margin-bottom:5px;">
</div>
<div style="float:left;width:160px;text-align:left;">Password:
          <input id="password" type="password" name="password" style="width:150px;margin-bottom:5px;" /></div>
<div class="clearfix" style="height:2px;clear:both;">&nbsp;</div>
         <input id="login-btn" name="login" type="image" title="GO" value="GO" src="../ws/so/so2014/img/btn-login.png" style="vertical-align:middle;">
        </form>
<span><a class="hidden-xs" style="font-size: .75em;" href="javascript:void(0);" onclick="jQuery('#CTALogin').hide();">close</a></span>
      </div>
      
</div>
</div>

<div id="layout" class="colcount-two coldesc-one-two layout-landingpage">
<div class="wrapper">
<div id="adaActualContent">






<div class="appArea">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
<td>
<p>

<span class="eventtitle">Step Out: Walk to Stop Diabetes Healthy Tailgate &amp; Wellness Expo</span>



<br />
<span class="locationtitle">Principal Park</span>


</p>
</td>
<td align="right">



</td>
</tr>
</table>




<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr valign="top">
<td>
<span class="Explicit"><p>Join us on September 26 for the return of the American Diabetes
 Association Healthy Tailgate and Wellness Expo! Along with the 5K or 1 
mile walk to raise diabetes awareness, we'll be hosting a variety of 
diabetes education sessions along with a Wellness Expo pre and post 
walk. Hy-Vee will be hosting the Healthy Tailgate after the walk and we'll enjoy NCAA football on HD on the Go! Register at <a href="http://diabetes.org/stepoutdsm" target="_blank">www.diabetes.org/stepoutdsm&nbsp;</a><a href="https://www.facebook.com/HDontheGo" target="_blank"><br /></a></p></span>
<p>Date:


<label>Saturday, September 26, 2015</label>


<br />


Time: 8:30 AM - 2:00 PM








<br />
Address:<br />
<span class="street1ttitle">One Line Drive</span><br />

<span>Des Moines, IA 50322</span>
<br /><span>United States</span><br />


</p>

<form method="post" name="UserDetail" action="http://main.diabetes.org/site/Calendar/70030294">
<input type="hidden" name="id" id="id" value="46842" />
<input type="hidden" name="cal_form" id="cal_form" value="UserDetail" />



<p><span id="open_attendance_prompt">This event does not require an RSVP. Registered users can request event reminders.</span><br /><a href="https://donations.diabetes.org/site/ConsProfileUser;jsessionid=D00348842B9104BEA51A961650D2F75B.app211b?NEXTURL=http%3A%2F%2Fmain.diabetes.org%2Fsite%2FCalendar%2F70030294%3Fview%3DDetail%26amp%3Bid%3D46842">Register</a></p>






</form>
</td>
<td align="center">




<br/>

</td>
</tr>
</table>



</div>

</div>
</div> <!-- end .wrapper -->
</div> <!-- end #layout -->

<div id="site-footer">
<div class="wrapper">
<!--Footer Copyright S51:reus_d_org_footer_copyright-->
<address class="vcard">
    <span itemscope itemtype="http://schema.org/NGO">
        <a href="http://www.diabetes.org"><strong><span class="org" itemprop="name"><span class="fn">American Diabetes Association</span></span></strong></a><br />
        <link itemprop="logo" href="http://main.diabetes.org/dorg/images/2013-template/ada-logo.png">
        <link itemprop="url" href="http://www.diabetes.org">
        <link itemprop="sameAs" href="http://www.facebook.com/AmericanDiabetesAssociation">
        <link itemprop="sameAs" href="http://twitter.com/AmDiabetesAssn">
        <link itemprop="sameAs" href="http://pinterest.com/amdiabetesassn/">
        <link itemprop="sameAs" href="http://www.youtube.com/user/AmericanDiabetesAssn">
        <link itemprop="sameAs" href="http://instagram.com/AmDiabetesAssn">
        <link itemprop="sameAs" href="https://www.linkedin.com/company/american-diabetes-association">
        <span class="adr">
            <span itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
                <span class="street-address" itemprop="streetAddress">1701 North Beauregard Street</span><br>
                <span class="locality" itemprop="addressLocality">Alexandria</span>, 
                <span class="country-name" itemprop="addressRegion"><abbr title="Virginia">VA</abbr></span> 
                <span class="postal-code" itemprop="postalCode">22311</span>
            </span>
        </span> <!-- end adr -->
        <abbr class="tel"><span itemprop="telephone">1-800-DIABETES (800-342-2383)</span></abbr>
    </span>
</address>
<p class="copyright">
    <!-- VeriSign LOGO added 4-5-11 -->
    <a href="https://trustsealinfo.verisign.com/splash?form_file=fdf/splash.fdf&amp;dn=donations.diabetes.org&amp;lang=en"><img src="../dorg/images/Wrapper/verisign-115x61.gif" border="0" alt=""VeriSign Secured /></a>
    &nbsp;&nbsp;&nbsp;
    <a href="http://charityreports.bbb.org/public/seal.aspx?ID=4611302003"><img src="../images/bbb_ac.jpg" border="0" alt="BBB Accredited Charity" /></a>
    &nbsp;&nbsp;&nbsp;
    <script type="text/javascript" src="https://sealserver.trustwave.com/seal.js?style=invert&code=2fdbbd2cb1994d9bbb3fb3145c2db6e1"></script>
    <noscript><a href="https://sealserver.trustkeeper.net/compliance/cert.php?code=2fdbbd2cb1994d9bbb3fb3145c2db6e1&style=invert&size=105x54&language=en" target="hATW"><img src="https://sealserver.trustkeeper.net/compliance/seal.php?code=2fdbbd2cb1994d9bbb3fb3145c2db6e1&style=invert&size=105x54&language=en" border="0" alt="Trusted Commerce"/></a></noscript>
    &nbsp;&nbsp;&nbsp;
    <a href="http://www.nationalhealthcouncil.org/"><img src="../dorg/images/Wrapper/NHC_SOECP_60x62.gif" border="0" alt="National Health Council Seal of Trust" /></a>
    <br /><br />
<!-- END LOGOS -->



Copyright 1995-2016. American Diabetes Association. All rights reserved. Use of this website constitutes acceptance of our <a href="http://www.diabetes.org/about-us/policies/terms-of-use.html">Terms of Use</a> and <a href="http://www.diabetes.org/about-us/policies/privacy-policy.html">Privacy Policy</a></p>

</div> <!-- end .wrapper -->
</div> <!-- end #site-footer -->

</div>
</div>

<!-- CDN -->
<!-- use jQuery 1.8.3 for stable performance within Convio environment instead of 1.11.3 -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/luminateExtend/1.7.1/luminateExtend.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.27/angular.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.27/angular-sanitize.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/webfont/1.5.2/webfont.js"></script>

<script type="text/javascript" src="//maps.googleapis.com/maps/api/js?sensor=false"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-tools/1.2.7/jquery.tools.min.js"></script>




<!-- Local -->
<!--<script src="../media/js/jquery.tools.min.js"></script>-->
<!--<script src="../ws/js/jquery.tools.min.js"></script>-->
<script src="../ws/js/jquery.placeholder.js"></script>
<script src="../ws/js/postmessage.js"></script>
<script src="../ws/js/jquery.magnific-popup.min.js"></script>
<script src="../ws/js/underscore-min.js"></script>
<script src="../ws/js/clamp.min.js"></script>
<script src="../ws/js/jquery.backstretch.min.js"></script>
<script src="../ws/js/jquery.cycle2.min.js"></script>

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="../ws/js/respond_fix.js" type="text/javascript"></script></script>
<![endif]-->
<!--[if lte IE 7]>
<script src="//cdnjs.cloudflare.com/ajax/libs/json3/3.3.1/json3.min.js"></script>
<![endif]-->




<!-- when it's CMS page, which is identified by value 0 of the returned S4 tag -->



<div id="banner-bar">
<div id="banner-bar-bg"></div>	
	<span class="left">&laquo;</span>
<div class="wrapper">
	
<ul>
<li id="bb-american-diabetes-association" class="current"><a href="http://www.diabetes.org/?loc=bb-dorg&s_src=bb&s_subsrc=2016">American Diabetes Association</a></li>
<li id="bb-diabetes-forecast" ><a href="http://www.diabetesforecast.org/?loc=bb-dorg&s_src=bb&s_subsrc=2016" target="_blank">Diabetes Forecast</a></li>
<li id="bb-stop-diabetes" ><a href="http://www.stopdiabetes.com/?loc=bb-dorg&s_src=bb&s_subsrc=2016" target="_blank">Stop Diabetes</a></li>
<li id="bb-step-out"><a href="http://stepout.diabetes.org/site/PageServer?pagename=OUT_homepage&loc=bb-dorg&s_src=bb&s_subsrc=2016" target="_blank">Step Out: Walk to Stop Diabetes</a></li>
<li id="bb-tour-de-cure"><a href="http://tour.diabetes.org/site/PageServer?pagename=TC_homepage&loc=bb-dorg&s_src=bb&s_subsrc=2016" target="_blank">Tour de Cure</a></li>
<li id="bb-living-with-type-2"><a href="https://donations.diabetes.org/site/SPageServer/?pagename=LWT2D_English&loc=bb-dorg&s_src=bb&s_subsrc=2016" target="_blank">Living With Type 2 Diabetes</a></li>
<li id="bb-my-food-advisor"><a href="http://www.diabetes.org/mfa-recipes/log-in/recipes-for-healthy-living.html?loc=bb-dorg&s_src=bb&s_subsrc=2016" target="_blank">Recipes for Healthy Living</a></li>
<li id="bb-diabetes-pro"><a href="http://professional.diabetes.org/?loc=bb-dorg" target="_blank">Diabetes Pro: Professional Resources</a></li>
<li id="bb-shop-diabetes"><a href="http://www.shopdiabetes.org/?loc=bb-dorg&source=bb-2016" target="_blank">Shop Diabetes</a></li>
</ul>
</div>
<span class="right">&raquo;</span>
	<span class="close">Close</span>
</div>
<!-- end #banner-bar -->

<script type="text/javascript">

var jQCC = jQuery.noConflict(true);//variable noConflict revision
jQCC.support.cors = true;

var startWidth;
var ie = getInternetExplorerVersion();
var nVer = navigator.appVersion;
var nAgt = navigator.userAgent;
var browserName  = navigator.appName;
var fullVersion  = ''+parseFloat(navigator.appVersion); 
var majorVersion = parseInt(navigator.appVersion,10);
var nameOffset,verOffset,ix;
var OSName="Unknown OS";

jQCC(document).ready(function(){
var whatCurrURL=window.location.href;
if(  (whatCurrURL.indexOf("site/UserLogin")>=0) || (whatCurrURL.indexOf("site/UserLogin?CMD=ForgotLogin")>=0)  || (whatCurrURL.indexOf("site/UserLogin?CMD=ForgotPassword")>=0)){

//console.log("you are in the convio userLogin");
//check if you are login main form exists if yes redirect to our login form page only when there is no NEXTURL
if(jQCC('#lmainLogonForm').length){
	if(whatCurrURL.indexOf("NEXTURL")==-1){
window.location.replace("http://main.diabetes.org/site/UserLogin?NEXTURL=https://donations.diabetes.org/site/SPageServer?pagename=CC_Login&logout=Sign+off");
	}else{
		jQCC('#login-div-content div.right-block').hide();	
		jQCC('#login-div-content table tbody tr:nth-child(2)').hide();
	}
}
if(jQCC('#SendPassword').length) {
window.location.replace("http://main.diabetes.org/site/UserLogin?NEXTURL=https://donations.diabetes.org/site/SPageServer?pagename=CC_PasswordRecovery&logout=Sign+off");
}

if(jQCC('#SendUserName').length) {
window.location.replace("http://main.diabetes.org/site/UserLogin?NEXTURL=https://donations.diabetes.org/site/SPageServer?pagename=CC_PasswordRecovery&logout=Sign+off");
}
}

if(whatCurrURL.indexOf("site/ConsProfileUser")>=0){
if(whatCurrURL.indexOf("NEXTURL")==-1){

window.location.replace("https://donations.diabetes.org/site/SPageServer?pagename=CC_Register");

}
}

if(whatCurrURL.indexOf("site/UserCenter")>=0){
window.location.replace("https://donations.diabetes.org/site/SPageServer?pagename=CC_Donations");
}

startWidth = jQCC(window).width();
//placeholder polyfill
jQCC('input, textarea').placeholder();

//sort and moving necessary BFRED component only 
jQCC('#reusDORGHeaderCOM').append(jQCC('#site-logo'));
jQCC('#reusDORGHeaderCOM').append(jQCC('#btn-donate-2014'));
jQCC('#reusDORGHeaderCOM').append(jQCC('#btn-member-2014'));
if (ie == 8) {
jQCC('#reusDORGHMainNav').show();
}else{
jQCC('#reusDORGHMainNavCOM').append(jQCC('#nav-primary'));
}
jQCC('#reusDORGNavUtilCOM').append(jQCC('#reusDORGNavUtil').html());
//jQCC('#reusDORGNavUtilCOM li:last').hide();

jQCC('#reusDORGNavUtilCOM li:last a').attr('href','javascript:void(0)');
jQCC('#reusDORGNavUtilCOM li:last a').attr('onclick','jQCC("#CTALogin").toggle();');

jQCC('#reusDORGHSearchCOM').append(jQCC('#site-search'));

jQCC('#reusDORGBrandbarCOM').append(jQCC('#banner-bar'));


//initiate Luminate Extend		
        luminateExtend({
            apiKey: 'adap1234',
            path: {
                nonsecure: 'http://main.diabetes.org/site/',
                secure: 'https://donations.diabetes.org/site/'
            }
        });		

//mobile/desktop rendering
if (jQCC(window).width() < 680) {
renderMobileMode();	
}else{
renderDesktopMode();	
}
if (ie == 8) {
            document.body.onresize = function() {
				
				if(jQCC(window).width() != startWidth){
					
					if (jQCC(window).width() < 680) {
						renderMobileMode();						
						startWidth = jQCC(window).width();
					} else{	
						renderDesktopMode();					
						startWidth = jQCC(window).width();
					} 
				}
			}
		} else {
            jQCC(window).resize(function() {
				
				if(jQCC(window).width() != startWidth){
					
					if (jQCC(window).width() < 680) {
						renderMobileMode();
						startWidth = jQCC(window).width();
					} else {
						renderDesktopMode();
						startWidth = jQCC(window).width();
					}
				}
			});
		}

        




//P2P All Event Listing


//COM_DEV_DH development mode


//SWEETHEARTGALA





//remove inline style from users on calendar page (page type 2)

/*jQCC('.appArea .Explicit p').each(function(){
jQCC(this).removeAttr('style');
});
jQCC('.appArea .Explicit span').each(function(){
jQCC(this).removeAttr('style');
});*/






var isTYConfirmPage = window.location.href;

if((isTYConfirmPage.indexOf('donation=completed') < 0) && (isTYConfirmPage.indexOf('pg=rthanks') < 0)){
if (ie == 8) {
jQCC('#reusDORGHMainNav').hide();
}
jQCC('#reusDORGNavUtilCOM li:not(:last)').hide();
jQCC('#btn-donate-2014').hide();
jQCC('#btn-member-2014').hide();
jQCC('#reusDORGHMainNavCOM').hide();
jQCC('#site-search').hide();
jQCC('#reusDORGBrandbarCOM').hide();
jQCC('#btn-nav').hide();
jQCC('#btn-search').hide();
jQCC('#btn-banner-bar').hide();

//jQCC('nav.nav-utility').css({'background-color':'#f3b700','height':'35px','border-radius':'6px','padding':'6px'});
jQCC('nav.nav-utility').css({'height':'35px','border-radius':'6px','padding':'6px','background':'#fceabb','background': '-moz-linear-gradient(top,  #fceabb 0%, #f8b500 55%, #f8b500 76%, #fccd4d 97%, #fccd4d 97%, #fbdf93 100%)','background':'-webkit-gradient(linear, left top, left bottom, color-stop(0%,#fceabb), color-stop(55%,#f8b500), color-stop(76%,#f8b500), color-stop(97%,#fccd4d), color-stop(97%,#fccd4d), color-stop(100%,#fbdf93))','background':'-webkit-linear-gradient(top,  #fceabb 0%,#f8b500 55%,#f8b500 76%,#fccd4d 97%,#fccd4d 97%,#fbdf93 100%)', 'background':'-o-linear-gradient(top,  #fceabb 0%,#f8b500 55%,#f8b500 76%,#fccd4d 97%,#fccd4d 97%,#fbdf93 100%)', 'background':'-ms-linear-gradient(top,  #fceabb 0%,#f8b500 55%,#f8b500 76%,#fccd4d 97%,#fccd4d 97%,#fbdf93 100%)','background':'linear-gradient(to bottom,  #fceabb 0%,#f8b500 55%,#f8b500 76%,#fccd4d 97%,#fccd4d 97%,#fbdf93 100%)','filter':'progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#fceabb\', endColorstr=\'#fbdf93\',GradientType=0 )','margin-right':'10px !important'});
jQCC('#reusDORGNavUtilCOM li:last a').css({'color':'#FFF','font-size':'14px'});
jQCC('#site-header').css('border-bottom','solid 5px #f3b700');
}




jQCC('#btn-nav').click(function(){
	jQCC('#nav-primary').toggle();
	jQCC('#reusDORGHSearchCOM').hide();
	jQCC('#banner-bar').hide();
});
jQCC('#btn-search').click(function(){
	jQCC('#nav-primary').hide();
	jQCC('#banner-bar').hide();
	jQCC('#reusDORGHSearchCOM').toggle();
});
jQCC('#btn-banner-bar').click(function(){
	jQCC('#nav-primary').hide();
	jQCC('#banner-bar').toggle();
	jQCC('#reusDORGHSearchCOM').hide();
});

jQCC("#banner-bar .left").click(function () {  
  var leftPos = jQCC('#banner-bar .wrapper').scrollLeft();  
  jQCC("#banner-bar .wrapper").animate({scrollLeft: leftPos - 600}, 800);
});

jQCC("#banner-bar .right").click(function () { 
  var leftPos = jQCC('#banner-bar .wrapper').scrollLeft();
  jQCC("#banner-bar .wrapper").animate({scrollLeft: leftPos + 600}, 800);
});

jQCC('#signintogglemobile').click(function(){
	jQCC('#login-container').toggle();
});

//API Login
jQCC('#login-form').submit(function() {
   login('#login-form');
   return false;
});





findCCLocalOffice();

jQCC('.svyBox').magnificPopup({
		disableOn: 0,
		type: 'iframe',
		mainClass: 'mfp-fade',
		removalDelay: 160,
		preloader: false,

		fixedContentPos: false
	});

jQCC("#scrollable").scrollable({
			circular: true
		});

jQCC("#update-btn").click(function() {
		// jquery checks if element exists (uses STAG logic to place input elements, will not place it if user has already filled it out).  If not placed, sets to existing value from database using S1 tag
		// first if checks that the element was placed on the page, second if checks that value was set.
		// after question is answered, it's posted to database and jquery fadeOut --> detach is used to hide --> remove element without removing the data
		
		var whatCompleted = new Array();
		var allCompleted = 1;
		
		if (jQCC('#cons_zip_code').length>0) {			
			if (jQCC("#cons_zip_code").val() != "") {
				var zip = document.getElementById("cons_zip_code").value; 
				hideQuestion('#cons_zip_code_container'); 
				whatCompleted[0] = 1;
			}
		} else { 
			var zip = ''; 
			whatCompleted[0] = 1;
		}
		
		if (jQCC('#cons_city').length>0) { 
			if (jQCC("#cons_city").val() != "") {
				var city = document.getElementById("cons_city").value; 
				hideQuestion('#cons_city_container');
				 whatCompleted[1] = 1;
			}
		} else { 
			var city = '';
			whatCompleted[1] = 1;
		}
		
		if (jQCC('#cons_street1').length>0) { 
			if (jQCC("#cons_street1").val() != "") {
				var street1 = document.getElementById("cons_street1").value; 
				hideQuestion('#cons_street1_container'); 
				whatCompleted[2] = 1;
			}
		} else { 
			var street1 = ''; 
			whatCompleted[2] = 1;
		}
		
		if (jQCC('#home_country').length>0) { 
			if (jQCC("#home_country").val() != "") {
				var country = document.getElementById("home_country").value; 
				hideQuestion('#home_country_container');
				whatCompleted[3] = 1;
			}
		} else { 
			var country = '';
			 whatCompleted[3] = 1;
		}
		
		if (jQCC('#cons_email_opt_in').length>0) { 
			if (jQCC('input[name=cons_email_opt_in]').is(':checked')) { 
				var email_optin = jQCC("#cons_email_opt_in:checked").val();
				hideQuestion('#cons_email_opt_in_container'); 
				whatCompleted[4] = 1;
			}
		} else { 
			var email_optin = ''; 
			whatCompleted[4] = 1;
		}
		
		if (jQCC('#txtmsg_optin').length>0) { // 2 part question, combine them
			if (jQCC("#txtmsg_optin").val() != "") {
				if (jQCC('#mobile_phone').length>0) { 
					if (jQCC("#mobile_phone").val() != "") {
						var mobile_phone = document.getElementById("mobile_phone").value; 
						var txtmsg_optin = document.getElementById("txtmsg_optin").value; 
						hideQuestion('#txtmsg_optin_container'); 
						whatCompleted[5] = 1;
					}
				} else { 
					var mobile_phone = '';
					 whatCompleted[5] = 1;
				}	
			}
		} else { 
			var txtmsg_optin = '';
			 whatCompleted[5] = 1;
		}
		if (jQCC('#cons_email_format').length>0) { 
			if (jQCC("#cons_email_format").val() != "") {
				var email_format = document.getElementById("cons_email_format").value; 
				hideQuestion('#cons_email_format_container'); 
				whatCompleted[6] = 1;
			}
		} else { 
			var email_format = ''; 
			whatCompleted[6] = 1;
		}
		if (jQCC('#you_diabetes').length>0) { 
			if (jQCC("#you_diabetes").val() != "") {
				var you_diabetes = document.getElementById("you_diabetes").value; 
				hideQuestion('#you_diabetes_container'); 
				whatCompleted[7] = 1;
			}
		} else { 
			var you_diabetes = ''; 
			whatCompleted[7] = 1;
		}
		if (jQCC('#parent_diabetes').length>0) { 
			if (jQCC("#parent_diabetes").val() != "") {
				var parent_diabetes = document.getElementById("parent_diabetes").value; 
				hideQuestion('#parent_diabetes_container'); 
				whatCompleted[8] = 1;
			}
		} else { 
			var parent_diabetes = ''; 
			whatCompleted[8] = 1;
		}
		if (jQCC('#spouse_diabetes').length>0) { 
			if (jQCC("#spouse_diabetes").val() != "") {
				var spouse_diabetes = document.getElementById("spouse_diabetes").value; 
				hideQuestion('#spouse_diabetes_container'); 
				whatCompleted[9] = 1;
			}
		} else { 
			var spouse_diabetes = ''; 
			whatCompleted[9] = 1;
		}
		if (jQCC('#child_diabetes').length>0) { 
			if (jQCC("#child_diabetes").val() != "") {
				var child_diabetes = document.getElementById("child_diabetes").value; 
				hideQuestion('#child_diabetes_container');
				whatCompleted[10] = 1;
			}
		} else { 
			var child_diabetes = '';
			 whatCompleted[10] = 1;
		}
		if (jQCC('#afam_diabetes').length>0) { 
			if (jQCC("#afam_diabetes").val() != "") {
				var afam_diabetes = document.getElementById("afam_diabetes").value; 
				hideQuestion('#afam_diabetes_container'); 
				whatCompleted[11] = 1;
			}
		} else { 
			var afam_diabetes = ''; 
			whatCompleted[11] = 1;
		}
		if (jQCC('#info_spanish').length>0) {
			if (jQCC('input[name=info_spanish]').is(':checked')) {
				var info_spanish = jQCC("#info_spanish:checked").val();
				hideQuestion('#info_spanish_container'); 
				whatCompleted[12] = 1;
			}
		} else { 
			var info_spanish = ''; 
			whatCompleted[12] = 1;
		}
		if (jQCC('#cons_occupation').length>0) { 
			if (jQCC("#cons_occupation").val() != "") {
				var occupation = document.getElementById("cons_occupation").value; 
				hideQuestion('#cons_occupation_container'); 
				whatCompleted[13] = 1;
			}
		} else { 
			var occupation = ''; 
			whatCompleted[13] = 1;
		}
		if (jQCC('#cons_employer').length>0) { 
			if (jQCC("#cons_employer").val() != "") {
				var employer = document.getElementById("cons_employer").value; 
				hideQuestion('#cons_employer_container'); 
				whatCompleted[14] = 1;
			}
		} else { 
			var employer = ''; 
			whatCompleted[14] = 1;
		}
		if (jQCC('#cons_gender').length>0) { 
			if (jQCC("#cons_gender").val() != "") {
				var gender = document.getElementById("cons_gender").value; 
				hideQuestion('#cons_gender_container'); 
				whatCompleted[15] = 1;
			}
		} else { 
			var gender = '';
			 whatCompleted[15] = 1;
		}
		if (jQCC('#cons_birth_date_MONTH').length>0) {
			if (jQCC('#cons_birth_date_DAY').length>0) {
				if (jQCC('#cons_birth_date_YEAR').length>0) {
					if (jQCC("#cons_birth_date_MONTH").val() != "") {
						if (jQCC("#cons_birth_date_DAY").val() != "") {
							if (jQCC("#cons_birth_date_MONTH").val() != "") {
								var dob_year = document.getElementById("cons_birth_date_YEAR").value;
								var dob_day = document.getElementById("cons_birth_date_DAY").value;
								var dob_month = document.getElementById("cons_birth_date_MONTH").value;
								var birth_date = dob_year+'-'+dob_month+'-'+dob_day; // all bday fields filled
								hideQuestion('#birth_date_container');
								whatCompleted[16] = 1;
							}
						}
					}
				} else { var birth_date = ''; whatCompleted[16] = 1; }
			} else { var birth_date = ''; whatCompleted[16] = 1; }
		} else { var birth_date = ''; whatCompleted[16] = 1; }
		if (jQCC('#healthcare_prof').length>0) {
			if (jQCC('input[name=healthcare_prof]').is(':checked')) { 
				var healthcare_prof = jQCC("#healthcare_prof:checked").val(); 
				hideQuestion('#healthcare_prof_container');
				whatCompleted[17] = 1;
			} 
		} else { 
			var healthcare_prof = '';
			whatCompleted[17] = 1;
		}
		//var placeholder = document.getElementById("placeholder").value; // in place to fix bug with last element; not actually used.
		//jQCC('.updateResult').html('');
		jQCC.ajax({
			type: "POST",
			url: 'https://donations.diabetes.org/site/CRConsAPI',
			dataType: 'json',
			data: {
				'method': 'update',
				'api_key': 'adap1234',
				'v': '1.0',
				'response_format': 'json',
				'auth': 'swcs6DJtb4-saXGO-VhXdm9q7jH13E3CUbKuz1vBRB_YNV80hSdoMFVWh6BlXIYK1hnSaq8XoK8',
				'cons_id': '',
				'primary_address.zip': zip,
				'primary_address.city': city,
				'primary_address.street1': street1,
				'primary_address.country': country,
				'email.accepts_email': email_optin,
				'custom_boolean50': txtmsg_optin,
				'mobile_phone': mobile_phone,
				'email.preferred_format': email_format,
				'custom_string7': you_diabetes,
				'custom_string4': parent_diabetes,
				'custom_string3': spouse_diabetes,
				'custom_string8': child_diabetes,
				'custom_string10': afam_diabetes,
				'custom_boolean14': info_spanish,
				'employment.occupation': occupation,
				'employment.employer': employer,
				'cons_gender': gender,
				'custom_boolean3': healthcare_prof,
				'birth_date': birth_date
			},
			success: function(data) {
				jQCC('#result').fadeIn(200).delay(1500).fadeOut(200);
				location.reload();
			}
		});	
	});









}); //end doc ready

//perform login via AJAX request
function login(whatForm) {
            luminateExtend.api.request({
                api: 'CRConsAPI',
                callback: loginCallback,
                data: 'method=login',
                form: whatForm,
                requestType: 'POST',
                useHTTPS: true
            });
}
//callback function after login
function loginCallback(data) {
            if (data.errorResponse) {
                alert("Invalid login");
            } else if (data.loginResponse) {
				
                location.reload();					
				
            }
}


function renderDesktopMode(){
	jQCC('#banner-bar').show();
	jQCC('#nav-primary').show();
	jQCC('#reusDORGHSearchCOM').show();
	jQCC('#reusDORGBrandbarCOM').insertBefore(jQCC('#reusDORGBrandbar'));	
	
		//jQCC('#CTALogin').insertAfter(jQCC('#reusDORGNavUtilCOM nav.nav-utility'));
		jQCC('#reusDORGHSearchCOM').insertBefore(jQCC('#reusDORGNavUtilCOM .nav-utility'));
		//jQCC('#CTALogin').insertAfter(jQCC('#reusDORGHSearchCOM'));
		jQCC('#CTALogin').insertAfter(jQCC('#reusDORGLogin'));
		jQCC('#login-container').show();
		jQCC('#CTALogin').hide();	
		jQCC('#btn-donate-2014').insertBefore(jQCC('#site-logo'));
		jQCC('#btn-member-2014').insertAfter(jQCC('#btn-donate-2014'));	
		
		if(jQCC('#cc-nav').length){
			jQCC('.navitem').show();
			jQCC('.navitem').css({'display':'inline-block','zoom':'1','*display':'inline'});	
		}
	//when it's on CC_Login or wherever the login form exist don't need to display the on-the-fly login / sign
	if(jQCC('#lLogonForm').length){
	jQCC('#CTALogin').hide();
	
	jQCC('#reusDORGNavUtilCOM li:last').hide();
	
	}
}

function renderMobileMode(){
	jQCC('#banner-bar').hide();
	jQCC('#nav-primary').hide();
	jQCC('#reusDORGHSearchCOM').hide();
	jQCC('#reusDORGBrandbarCOM').insertAfter(jQCC('#site-header'));
	jQCC('#reusDORGHSearchCOM').insertBefore(jQCC('#reusDORGHSearch'));
	jQCC('#CTALogin').insertAfter(jQCC('#reusDORGHMainNavCOM'));		
	jQCC('#CTALogin').show();
	jQCC('#btn-donate-2014').insertAfter(jQCC('#adaActualContent'));
	jQCC('#btn-member-2014').insertAfter(jQCC('#btn-donate-2014'));	
	if(jQCC('#cc-nav').length){
		jQCC('.navitem').hide();			
	}
	//when it's on CC_Login or wherever the login form exist don't need to display the on-the-fly login / sign
	if(jQCC('#lLogonForm').length){
	jQCC('#CTALogin').hide();
	
	jQCC('#reusDORGNavUtilCOM li:last').hide();
	
	}
}

function swhgalaListRender(){


jQCC('#swhgala_listing').append('<iframe id="participantList" src="https://donations.diabetes.org/site/SPageServer?pagename=Sweetheart_Gala_API" frameborder="0" scrolling="no"  style="width:100%; margin:0; min-height:400px; min-width:300px;">Your browser does not support iframe</iframe>');

var src = 'https://donations.diabetes.org/site/SPageServer?pagename=Sweetheart_Gala_API#' + encodeURIComponent( document.location.href );
	var updatedIFH;
	jQCC('#participantList').prop('src',src);
 
 function send(msg) {
        XD.postMessage(msg, src, frames[0]);
        return false;
    }
	
 XD.receiveMessage(function(message){
        //window.alert(message.data + " received on "+window.location.host);
		updatedIFH = message.data;
    }, 'https://donations.diabetes.org');

  function getHeight() {
  /*if(!window.console){ window.console = {log: function(){} }; }  else{
	  console.log('getheight function called');
  }*/
  XD.receiveMessage(function(message){
        //window.alert(message.data + " received on "+window.location.host);
		updatedIFH = message.data;
    }, 'https://donations.diabetes.org');
 
  jQCC('#participantList').prop('height',updatedIFH);
  }
  
   var intervalTwoParent = setInterval(function(){
	  getHeight();	 
  },1000);

// And for good measure, let's send a toggle_content message to the child.
  // jQCC.postMessage( 'toggle_content', src, iframe.get(0).contentWindow ); 

}

//Get Internet Explorer Version 7 - 11
function getInternetExplorerVersion() {
        var rv = -1; // Return value assumes failure.
        var isIE11 = !!navigator.userAgent.match(/Trident.*rv[ :]*11\./);
        if (navigator.appName == 'Microsoft Internet Explorer') {
            var ua = navigator.userAgent;
            var re = new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");
            var re2 = new RegExp("MSIE ([10]{1,}[\.10]{0,})");
            if (re.exec(ua) != null) {

                rv = parseFloat(RegExp.$1);
            } else if (re2.exec(ua) != null) {
                rv = parseFloat(RegExp.$1);
            }
        }
        if (isIE11) {
            rv = 11;
        }
        return rv;
}

//Google Font
/*WebFont.load({
        google: {
            families: ['Roboto']
        }
});*/

//COM DEV DH callback functions
window.getUsrTransCallback = {
        error: function(data) {            
          
        },
        success: function(data) {            
              var transhistoryList = luminateExtend.utils.ensureArray(data.getConsTransactionsResponse.transaction);
      		  //console.log(transhistoryList);
			  //console.log(transhistoryList.length);	
			  
			  var renderResult="";
			  jQCC.each(transhistoryList, function() {
				  renderResult += "<div style='border:#CCC solid 1px; padding:8px;margin-bottom:10px;'>";
				  renderResult += "<p><strong>Confirmation Code:</strong> "+this.confirmation_code+"</p>";
				  renderResult += "<p><strong>Confirmation Code:</strong> "+this.transaction_type+"</p>";
				  renderResult += "<p><strong>Time Stamp:</strong> "+this.timestamp+"</p>";
				  renderResult += "<p><strong>Tender Type:</strong> "+this.tender_type+"</p>";
				  renderResult += "<p><strong>Payment Method:</strong> "+this.pay_method+"</p>";
				  renderResult += "<p><strong>Amount:</strong> "+this.amount.formatted+"</p>";
				  if(typeof this.billing_name != "undefined"){
				  renderResult += "<p><strong>Billing Name:</strong> "+this.billing_name.last +", "+this.billing_name.first+"</p>";
				  }
				  if(typeof this.billing_address != "undefined"){
				  renderResult += "<p><strong>Billing Address:</strong> "+this.billing_address.street1 + ", "+this.billing_address.street2 +", "+this.billing_address.city +", "+this.billing_address.state+", "+this.billing_address.zip+"</p>";				  	  
				  }
				  
				  if(typeof this.donation_detail != "undefined"){
					  if(typeof this.donation_detail.campaign != "undefined"){
				  renderResult += "<p><strong>Donation Campaign ID:</strong> "+this.donation_detail.campaign.id+"</p>";
				  renderResult += "<p><strong>Donation Campaign Title:</strong> "+this.donation_detail.campaign.title+"</p>";
				  renderResult += "<p><strong>Donation Campaign Description:</strong> "+this.donation_detail.campaign.description+"</p>";
					  }
					  if (typeof this.donation_detail.form != "undefined"){
				  renderResult += "<p><strong>Donation Form ID:</strong> "+this.donation_detail.form.id+"</p>";
				  renderResult += "<p><strong>Donation Form Title:</strong> "+this.donation_detail.form.title+"</p>";
				  renderResult += "<p><strong>Donation Form Description:</strong> "+this.donation_detail.form.description+"</p>";
					  }
					  if (typeof this.donation_detail.level != "undefined"){
				  renderResult += "<p><strong>Donation Level ID:</strong> "+this.donation_detail.level.id+"</p>";
				  renderResult += "<p><strong>Donation Level Title:</strong> "+this.donation_detail.level.title+"</p>";
				  renderResult += "<p><strong>Donation Level Description:</strong> "+this.donation_detail.level.description+"</p>";

					  }
					  if(typeof this.donation_detail.tax_deductible_amount != "undefined"){
			      renderResult += "<p><strong>Donation Tax Deductible:</strong> "+this.donation_detail.tax_deductible_amount.formatted+"</p>";
					  }
					  if(typeof this.donation_detail.value_of_goods != "undefined"){
				  renderResult += "<p><strong>Donation Value of Goods:</strong> "+this.donation_detail.value_of_goods.formatted+"</p>";				  
					  }
				  }
				  renderResult += "</div>";
				 
			  });
			  jQCC('#rgiftresult').html(renderResult);
        }
}


window.getRecurringGiftCallback = {
        error: function(data) {            
          	jQCC('#rgiftresult').html("<div class='alert alert-danger'><p>Recurring Gift record(s) is currently unavailable.</p></div>");	
        },
        success: function(data) {            
              var recurringGiftsList = luminateExtend.utils.ensureArray(data.getRecurringGiftsResponse.recurringGift);
      		  //console.log(recurringGiftsList);
			  //console.log(recurringGiftsList.length);	
			  var howManyRecurring = 0;
			  var renderResult="<ul id='rcgifttab'><li id='rcgtab1' class='rctabitem rcgtabactive'><a href='javascript:void(0)' onclick='rctabtoggle(1)'>ACTIVE</a></li><li id='rcgtab2' class='rctabitem'><a href='javascript:void(0)' onclick='rctabtoggle(2)'>COMPLETED</a></li><li id='rcgtab3' class='rctabitem'><a href='javascript:void(0)' onclick='rctabtoggle(3)'>CANCELLED</a></li></ul><div id='rcgtabstatus'></div>";
			  jQCC.each(recurringGiftsList, function() {
				  if((this.status === "ACTIVE")||(this.status === "ACTIVE_DELAYED")||(this.status === "ACTIVE_CARD_ERROR")||(this.status === "DELAYED")){
				  	renderResult += "<div class='adarcgiftACTIVE' style='border:#CCC solid 1px; padding:8px;margin-bottom:10px;'>";
				  } else if (this.status === "COMPLETE"){
					 renderResult += "<div class='adarcgiftCOMPLETE' style='border:#CCC solid 1px; padding:8px;margin-bottom:10px;'>";  
				  } else {
					 renderResult += "<div class='adarcgiftCANCELLED' style='border:#CCC solid 1px; padding:8px;margin-bottom:10px;'>";
				  }
				  renderResult += "<div style='background-color:#3781BB;padding:8px;margin-bottom:7px;'><h4 style='color:#FFF'><strong><span id='transid"+this.id+"'>"+this.title+"</span></strong></h4></div>";
				  renderResult += "<p><strong>Status:</strong> "+this.status+"</p>";
				  renderResult += "<p><strong>Amount:</strong> <span id='myCurrGiftAmt' style='display:none;'>"+this.amount.decimal+"</span>"+this.amount.formatted+" / "+ this.frequency +"</p>";
				  //renderResult += "<p><strong>Payment Frequency:</strong> "+this.frequency+"</p>";
				  var lastTransDate = this.previousPaymentDate;
				  renderResult += "<p><strong>Last Payment:</strong> "+ lastTransDate.substr(0,lastTransDate.length - 6)+"</p>";				  	  
				  if(this.nextPaymentDate){
				  var nextTransDate = this.nextPaymentDate;
				  renderResult += "<p><strong>Next Payment:</strong> <span id='myCurrNextPmt'>"+ nextTransDate.substr(0,nextTransDate.length - 6)+"</span></p>";	
				  }
				  if(this.tenderInstance === "PAYPAL"){
					  renderResult += "<p><strong>Payment Type:</strong> "+this.tenderInstance+"</p>";
				  }else {
					  renderResult += "<p><strong>Payment Type:</strong> Credit Card ("+this.tenderInstance+")</p>";
					  renderResult += "<p><strong>CC Number:</strong> <span id='ccfor"+this.id+"'>"+this.creditInfo.maskedCreditCardNumber+"</span></p>";
					  renderResult += "<p><strong>CC Exp Date:</strong> <span id='ccexpmonthfor"+this.id+"'>"+this.creditInfo.expirationMonth+"</span> / <span id='ccexpyearfor"+this.id+"'>"+this.creditInfo.expirationYear+"</span></p>";
					  if((this.status === "ACTIVE")||(this.status === "ACTIVE_DELAYED")||(this.status === "ACTIVE_CARD_ERROR")||(this.status === "DELAYED")){

					  renderResult += "<div style='float:right'><a class='magbox' href='javascript:void(0)' onclick='openUpdateCCForm("+this.id+");'>Update Credit Card &raquo;</a></div><div style='clear:both;height:1px;'>&nbsp;</div>";
					   renderResult += "<div style='float:right'><a class='magbox' href='javascript:void(0)' onclick='openUpdateDateAmtForm("+this.id+");'>Update Date and/or Amount &raquo;</a></div><div style='clear:both;height:1px;'>&nbsp;</div>";
					  }
					  renderResult += "<div style='float:right'><a class='magbox' href='javascript:void(0)' onclick='openPaymentHistory("+this.id+");'>View Payment History &raquo;</a></div><div style='clear:both;height:1px;'>&nbsp;</div>";
			
				  }
				  renderResult += "</div>";
				  howManyRecurring++;
			  });
			  if(howManyRecurring != 0){
			  	 jQCC('#rgiftresult').html(renderResult);
				 jQCC('.adarcgiftACTIVE').show();
				 jQCC('.adarcgiftCOMPLETE').hide();
				 jQCC('.adarcgiftCANCELLED').hide();
			  }else{
				 jQCC('#rgiftresult').html("<div><p>You have no recurring gift currently.</p></div>");  
			  }
        }
}

function rctabtoggle(whichToggle){
	switch(whichToggle){
		case 1:
			jQCC('.adarcgiftACTIVE').show();
			jQCC('.adarcgiftCOMPLETE').hide();
			jQCC('.adarcgiftCANCELLED').hide();
			jQCC('#rcgtab1').addClass('rcgtabactive');
			jQCC('#rcgtab2').removeClass('rcgtabactive');
			jQCC('#rcgtab3').removeClass('rcgtabactive');
			if(jQCC('.adarcgiftACTIVE').length){
				jQCC('#rcgtabstatus').html('');
			}else{
				jQCC('#rcgtabstatus').html('<p>You have no active recurring gift currently.</p>');
			}
		break;
		
		case 2:
			jQCC('.adarcgiftACTIVE').hide();
			jQCC('.adarcgiftCOMPLETE').show();
			jQCC('.adarcgiftCANCELLED').hide();
			jQCC('#rcgtab2').addClass('rcgtabactive');
			jQCC('#rcgtab1').removeClass('rcgtabactive');
			jQCC('#rcgtab3').removeClass('rcgtabactive');
			if(jQCC('.adarcgiftCOMPLETE').length){
				jQCC('#rcgtabstatus').html('');
			}else{
				jQCC('#rcgtabstatus').html('<p>You have no completed recurring gift currently.</p>');
			}
		break;
		
		case 3:
			jQCC('.adarcgiftACTIVE').hide();
			jQCC('.adarcgiftCOMPLETE').hide();
			jQCC('.adarcgiftCANCELLED').show();
			jQCC('#rcgtab3').addClass('rcgtabactive');
			jQCC('#rcgtab2').removeClass('rcgtabactive');
			jQCC('#rcgtab1').removeClass('rcgtabactive');
			if(jQCC('.adarcgiftCANCELLED').length){
				jQCC('#rcgtabstatus').html('');
			}else{				
				jQCC('#rcgtabstatus').html('<p>You have no cancelled recurring gift currently.</p>');
			}
		break;	
	}
}

var whatHistoryTransID="";
var currYearWeAre = new Date().getFullYear();
currYearWeAre = currYearWeAre.toString();
var whatHistoryTransYear = new Date().getFullYear();
whatHistoryTransYear = whatHistoryTransYear.toString();

function openPaymentHistory(whatTransID,whatTransYear){
whatHistoryTransID = whatTransID;
if(typeof whatTransYear != "undefined"){
whatHistoryTransYear = whatTransYear;	
}
//grab history
luminateExtend.api.request({
            api: 'Recurring',
            callback: getRecurringGiftHistoryCallback,
            requiresAuth: true,
            data: 'method=getRecurringHistory&response_format=json&sustainer_history_year='+whatHistoryTransYear+'&recurring_gift_id='+whatTransID
});	
}

function openUpdateDateAmtForm(whatTransID){
jQCC.magnificPopup.open({items:{src:'#updtrgdateamt',type:'inline',closeBtnInside: true}});
//bring original value for reference
var oriNPD = jQCC('#myCurrNextPmt').text();
var revNPD = oriNPD.split("-");
var revFinalNPD = revNPD[1]+"-"+revNPD[2]+"-"+revNPD[0];
jQCC('#nextpaydate').val(revFinalNPD);
jQCC('#currpayamt').val(Math.round(jQCC('#myCurrGiftAmt').text()));
//datepicker with API comformant format -- using jQuery instead jQCC because of the noConflict order/define
var dateToday = new Date();
jQuery('#nextpaydate').datepicker({dateFormat:'mm-dd-yy',minDate:dateToday}).val();
//reset
jQCC('#updtrgdateamt-errorstatus').hide();
jQCC('#updtrgdateamt-errorstatus').html('');
jQCC('#updtrgdateamt-successmsg').hide();
jQCC('#updt2transid').text(whatTransID);
jQCC('#updt2recgifttitle').text(jQCC('#transid'+whatTransID).text());



jQCC('#updaterecgiftdateamtfrm').submit(function(e){
	e.preventDefault();	
	//reset
jQCC('#updtrgdateamt-errorstatus').hide();
jQCC('#updtrgdateamt-errorstatus').html('');
jQCC('#updtrgdateamt-successmsg').hide();

//auto-recorrect date format from manual input - no need with the use of date regex checker below
/*oriNPD = jQCC('#myCurrNextPmt').text();
revNPD = oriNPD.split("-");
revFinalNPD = revNPD[1]+"-"+revNPD[2]+"-"+revNPD[0];
jQCC('#nextpaydate').val(revFinalNPD);*/

//if all condition met or else
if(isNaN(jQCC('#currpayamt').val()) == true){
	jQCC('#updtrgdateamt-errorstatus').show();
	jQCC('#updtrgdateamt-errorstatus').append('<p>Invalid input. Gift amount expect an integer input.</p>');
} else {
	var myNewGiftAmt = Math.round(jQCC('#currpayamt').val());
	jQCC('#currpayamt').val(myNewGiftAmt);
	
	var date_regex = /^(0[1-9]|1[0-2])\-(0[1-9]|1\d|2\d|3[01])\-(19|20)\d{2}$/ ;
	
	if(date_regex.test(jQCC('#nextpaydate').val())==false){
		jQCC('#updtrgdateamt-errorstatus').show();
		jQCC('#updtrgdateamt-errorstatus').append('<p>Invalid Date Format. It has to be MM-DD-YYYY.</p>');	
	} else{		
		luminateExtend.api.request({
							api: 'Recurring',
							callback: updateRecurringDateAmtCallback,
							requiresAuth: true,
							data: 'method=updateRecurringGift&response_format=json&recurring_gift_id='+whatTransID+'&amount='+myNewGiftAmt+'&next_payment_date='+jQuery('#nextpaydate').val()
					});
	}
}
					
});
}

function isInt(n) {
   return n % 1 === 0;
}

function openUpdateCCForm(whatTransID){
jQCC.magnificPopup.open({items:{src:'#updtrgcc',type:'inline',closeBtnInside: true}});
//reset
jQCC('#updtrgcc-errorstatus').hide();
jQCC('#updtrgcc-errorstatus').html('');
jQCC('#updtrgcc-successmsg').hide();
jQCC('#cvvnum').val('');
//jQCC('#updtrgcc button.mfp-close').css({'background-color':'#F40','padding':'2px'});
//jQCC('#updtrgcc button.mfp-close').html('<span style="font-size:12px;font-weight:bold;">close x</span>');
jQCC('#ccnum').val(jQCC('#ccfor'+whatTransID).text());
jQCC('#ccexpmonth').val(jQCC('#ccexpmonthfor'+whatTransID).text());
jQCC('#ccexpyear').val(jQCC('#ccexpyearfor'+whatTransID).text());
jQCC('#updttransid').text(whatTransID);
jQCC('#updtrecgifttitle').text(jQCC('#transid'+whatTransID).text());

//grab rest of billing details
luminateExtend.api.request({
            api: 'Recurring',
            callback: getRecurringGiftDetailsCallback,
            requiresAuth: true,
            data: 'method=getRecurringGiftDetails&response_format=json&list_page_size=1000&recurring_gift_id='+whatTransID
});

}

window.getRecurringGiftDetailsCallback = {
        error: function(data) {            
          	
        },
        success: function(data) { 
			var recurringGiftDetails = luminateExtend.utils.ensureArray(data.getRecurringGiftDetailsResponse.recurringGiftDetails);
			jQCC.each(recurringGiftDetails, function() {
				jQCC('#billfname').val(this.billingName.first);
				jQCC('#billlname').val(this.billingName.last);
				jQCC('#billstreet').val(this.billingAddress.street1);
				jQCC('#billstate').val(this.billingAddress.state);
				jQCC('#billzip').val(this.billingAddress.zip);
				jQCC('#billcity').val(this.billingAddress.city);
				jQCC('#updaterecgiftpaymentfrm').submit(function(e){
					e.preventDefault();
					//reset
					jQCC('#updtrgcc-errorstatus').hide();
					jQCC('#updtrgcc-errorstatus').html('');
					jQCC('#updtrgcc-successmsg').hide();
					var rawCCNum = jQCC('#ccnum').val();
					var revisedCCNum = rawCCNum;
					if((revisedCCNum.indexOf(' ') >= 0) || (/\s/g.test(revisedCCNum))){
						//replace all white space
						revisedCCNum = revisedCCNum.replace(/ /g,'');
					}
					if(revisedCCNum.indexOf('-') >= 0){
						//replace all dash
						revisedCCNum = revisedCCNum.replace(/-/g, "");
					}
					
					luminateExtend.api.request({
							api: 'Recurring',
							callback: updateRecurringCreditCardInfoCallback,
							requiresAuth: true,
							data: 'method=updateRecurringCreditCardInfo&response_format=json&list_page_size=1000&recurring_gift_id='+jQCC('#updttransid').text()+'&billing_city='+jQCC('#billcity').val()+'&billing_first_name='+jQCC('#billfname').val()+'&billing_last_name='+jQCC('#billlname').val()+'&billing_state='+jQCC('#billstate').val()+'&billing_street1='+jQCC('#billstreet').val()+'&billing_zip='+jQCC('#billzip').val()+'&credit_card_exp_month='+jQCC('#ccexpmonth').val()+'&credit_card_exp_year='+jQCC('#ccexpyear').val()+'&credit_card_number='+revisedCCNum+'&cons_id=&credit_card_cvv='+jQCC('#cvvnum').val()
					});
				});
			});
		}
}

window.updateRecurringCreditCardInfoCallback = {	    
        error: function(data) {            
          	//alert("update failed");
			jQCC('#updtrgcc-errorstatus').show();
			jQCC('#updtrgcc-errorstatus').html('<p>Update Failed.</p><p>'+data.errorResponse.message+'</p>')
        },
        success: function(data) { 
			//jQCC.magnificPopup.close();			
			jQCC('#updtrgcc-successmsg').show();
			//refresh the main page listing
			luminateExtend.api.request({
            api: 'Recurring',
				callback: getRecurringGiftCallback,
				requiresAuth: true,
				data: 'method=getRecurringGifts&response_format=json&list_page_size=1000'
			});
		}
}

window.getRecurringGiftHistoryCallback = {
	    	    
        error: function(data) {
			jQCC.magnificPopup.open({items:{src:'#payhistoryrgccwrapper',type:'inline',closeBtnInside: true}});
			jQuery('#rgdownloadlink').hide();
			jQCC('#payhistoryrgcc').html('<div style="padding:10px;height:50px;"><center><p>Payment history is not available at this moment.</p></center></div>')
        },
        success: function(data) { 
			jQCC.magnificPopup.open({items:{src:'#payhistoryrgccwrapper',type:'inline',closeBtnInside: true}});
			jQCC('#recgifthistorytitle').text(jQuery('#transid'+whatHistoryTransID).text());
			var recurringGiftHistory = luminateExtend.utils.ensureArray(data.getRecurringHistoryResponse.recurringHistory);
			var rgCount = 0;
			if(parseInt(whatHistoryTransYear) < parseInt(currYearWeAre)){
			jQuery('#payhistoryrgcc_subnav').html("<div style='padding:5px;'><center><p><a href='javascript:void(0)' onclick='openPaymentHistory("+whatHistoryTransID+","+(parseInt(whatHistoryTransYear)-1)+")'>&laquo; prev</a>&nbsp;&nbsp;&nbsp;<strong>"+whatHistoryTransYear+" Payment History </strong>&nbsp;&nbsp;&nbsp;<a href='javascript:void(0)' onclick='openPaymentHistory("+whatHistoryTransID+","+(parseInt(whatHistoryTransYear)+1)+")'>next &raquo;</a></p></center><div style='float:right; margin-top:3px;'><a id='rgdownloadlink' href='https://donations.diabetes.org/site/UserCenterDownload/BillingHistory"+whatHistoryTransYear+".csv?download_type=sustainer_history&sustainer_gift_id="+whatHistoryTransID+"&year="+whatHistoryTransYear+"'>Download History (.csv)</a></div><div style='clear:both;height:1px;'>&nbsp;</div></div>");
			} else {
				jQuery('#payhistoryrgcc_subnav').html("<div style='padding:5px;'><center><p><a href='javascript:void(0)' onclick='openPaymentHistory("+whatHistoryTransID+","+(parseInt(whatHistoryTransYear)-1)+")'>&laquo; prev</a>&nbsp;&nbsp;&nbsp;<strong>"+whatHistoryTransYear+" Payment History </strong>&nbsp;&nbsp;&nbsp;</p></center><div style='float:right; margin-top:3px;'><a id='rgdownloadlink' href='https://donations.diabetes.org/site/UserCenterDownload/BillingHistory"+whatHistoryTransYear+".csv?download_type=sustainer_history&sustainer_gift_id="+whatHistoryTransID+"&year="+whatHistoryTransYear+"'>Download History (.csv)</a></div><div style='clear:both;height:1px;'>&nbsp;</div></div>");
			}
			
			var renderHistory = "<div id='rghistoryresult'>";
			jQCC.each(recurringGiftHistory, function() {
				renderHistory += "<div style='border: 1px solid #CCC;padding:3px;margin-bottom:10px;'>";
				var recHistoryDate = this.date;					
				renderHistory += "<p><strong>Date:</strong> "+recHistoryDate.substr(0,recHistoryDate.length - 6)+"</p>";
				renderHistory += "<p><strong>Amount (USD):</strong> "+this.amount.formatted+"</p>";
				renderHistory += "<p><strong>Payment Method:</strong> "+this.tenderType;
				if(this.tenderType === "CREDIT_CARD"){
					renderHistory += "&nbsp;"+this.maskedCreditCardNumber+"</p>";	
				}else {
					renderHistory += "</p>";
				}
				renderHistory += "<p><strong>Status:</strong> "+this.status+"</p>";
				renderHistory += "</div>";
				rgCount++;
			});
			renderHistory += "</div>";
			if(rgCount != 0){
			jQuery('#rgdownloadlink').show();
			jQuery('#payhistoryrgcc').html(renderHistory);
			}else{
			jQuery('#rgdownloadlink').hide();
			jQuery('#payhistoryrgcc').html('<div style="padding:10px;height:50px;"><center><p>There is no recurring gift history found for the year.</p></center></div>');	
			}
		}
}

window.updateRecurringDateAmtCallback = {	    
        error: function(data) { 
			jQCC('#updtrgdateamt-errorstatus').show();
			jQCC('#updtrgdateamt-errorstatus').html('<p>Update Failed.</p><p>'+data.errorResponse.message+'</p>')
        },
        success: function(data) { 
			//jQCC.magnificPopup.close();
			jQCC('#updtrgdateamt-errorstatus').hide();
			jQCC('#updtrgdateamt-errorstatus').html('');
			jQCC('#updtrgdateamt-successmsg').show();
			//refresh the main page listing
			luminateExtend.api.request({
            api: 'Recurring',
				callback: getRecurringGiftCallback,
				requiresAuth: true,
				data: 'method=getRecurringGifts&response_format=json&list_page_size=1000'
			});
		}
}

window.getAllP2PTeamraisersCallback = {
        error: function(data) {            
            jQCC('#results-event-search-errors').remove();
            jQCC('#results-event-search-results').html('');

            jQCC('.results-event-search-form').prepend('<div id="results-event-search-errors">' +
                '<div class="alert alert-danger">' +
                data.errorResponse.message +
                '</div>' +
                '</div>');			
        },
        success: function(data) {            
            jQCC('#results-event-search-errors').remove();
            jQCC('#results-event-search-results').html('');

            if (data.getTeamraisersResponse.totalNumberResults == 0) {
				jQCC('.results-all-p2pevent-search-form').prepend('<div id="results-all-p2pevent-search-errors">' +
                    '<div class="alert alert-danger">' +
                    'No events found.' +

                    '</div>' +
                    '</div>');
            } else {				
                jQCC('#results-all-p2pevent-search-results').html('<div class="well"></div>');
                var teamraiserList = luminateExtend.utils.ensureArray(data.getTeamraisersResponse.teamraiser);
				var activeEvtArray = new Array();
                jQCC.each(teamraiserList, function() {
					
					var evtDate = this.event_date;
					var edCutOffPos = evtDate.indexOf("T");	
				
					var trDate=evtDate.split('T')[0];
					var trMonth=Number(trDate.split('-')[1])-1;
					var trMonthdgt = trMonth;
					var trDay=trDate.split('-')[2];
					if(trDay<10){
						trDay=trDay.replace('0','');
					}
					var trYear=trDate.split('-')[0];
					var dtToday = new Date();
					var evtDateVal = new Date();
					evtDateVal.setFullYear(trYear,trMonthdgt,trDay);	
					
					if(evtDateVal > dtToday){
					/*jQCC('#results-all-p2pevent-search-results .well').append('<div class="results-all-p2pevent-search-row evtisactive">' + '<div class="tr_search_left"><p><a href="' + this.greeting_url + '"><strong>' + this.name + '</strong></a></p><p>' + this.city + ', ' + this.state + '<br />' + luminateExtend.utils.simpleDateFormat(this.event_date, 'MMMM d, yyyy') + '</p></div>' + '<div class="tr_search_right"><a class="red-btn-small" href="' + this.greeting_url + '">Register</a></div><div class="clearDiv">&nbsp;</div> ' + '</div><div style="clear:both;height:15px;">&nbsp;</div>');*/ 
					activeEvtArray.push('<div class="results-all-p2pevent-search-row evtisactive">' + '<div class="tr_search_left"><p><a href="' + this.greeting_url + '"><strong>' + this.name + '</strong></a></p><p>' + this.city + ', ' + this.state + '<br />' + luminateExtend.utils.simpleDateFormat(this.event_date, 'MMMM d, yyyy') + '</p></div>' + '<div class="tr_search_right"><a class="red-btn-small" href="' + this.greeting_url + '">Register</a></div><div class="clearDiv">&nbsp;</div> ' + '</div><div style="clear:both;height:15px;">&nbsp;</div>');
					} else {
						 jQCC('#results-all-p2pevent-search-results .well').append('<div class="results-all-p2pevent-search-row">' + '<div class="tr_search_left"><p><a href="' + this.greeting_url + '"><strong>' + this.name + '</strong></a></p><p>' + this.city + ', ' + this.state + '<br />' + luminateExtend.utils.simpleDateFormat(this.event_date, 'MMMM d, yyyy') + '</p></div>' + '<div class="tr_search_right"><a class="red-btn-small" href="' + this.greeting_url + '">View Detail</a></div><div class="clearDiv">&nbsp;</div> ' + '</div><div style="clear:both;height:15px;">&nbsp;</div>');
					}
				});
				//paste back that array for custom order
				for(var i=0; i<activeEvtArray.length; i++){
					jQCC('#results-all-p2pevent-search-results .well').prepend(activeEvtArray[i]);	
				}
            }            
        }
};





/* for API call to pull nearby TRs */
function parseZip(zip) {
	if(zip.length>5){
		var a = zip.substring(0, zip.length - 5);
	} else {
		var a = zip;
	}
	return a;
}
/* for pulling nearby TRs icon */
function getEventTypeIcon(s) {
	if (s.indexOf("Tour") > 0) { // URL would be http://main.diabetes.org/site/TR/TourdeCure/, if not found s = -1
	    if (s.indexOf("/TEST/") > 0){
			var a = "testevt";
		}else{
			var a = 'home_tour_icon';
		}
	} else if (s.indexOf("StepOut") > 0) { // URL would be http://main.diabetes.org/site/TR/StepOut/, if not foudn s = -1
		if (s.indexOf("/TEST/") > 0){
			var a = "testevt";
		}else{
			var a = 'home_walk_icon';
		}
	} else { // not a tour or walk, do not display.
		if (s.indexOf("/TEST/") > 0){
			var a = "testevt";
		}else{
			var a = -1;
		}
	}
	return a;
}

function findCCLocalOffice(){
var container = jQCC('#local-office-target');
		var zipcode = parseZip('');
		jQCC.getJSON('https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20xml%20where%20url%3D%22http%3A%2F%2Fmedia.diabetes.org%2Fzipsearch.jsp%3Fzipcode%3D'+zipcode+'%22&format=xml&callback=?',	function(data){
		if(data.results[0]){
			var data = parseXml(data.results[0]);
			var officeUrl = jQCC(data).find('ADA_Local_Office_URL').text();
			var officeName = jQCC(data).find('ADA_Market_Area_Description').text();
			var officeLoc = jQCC(data).find('ADA_Local_Office_Description').text();
			var officeZip = jQCC(data).find('ZipCode').text();
			
			jQCC('#local-office-target').html('<a class="la-side" href="'+officeUrl+'" target="_blank">' + officeName + '</a>');
			jQCC('#local-office-target').append('<p class="la-side">'+officeLoc+'</p>');
			jQCC('#local-office-target').append('<p class="la-side">'+officeZip+'</p>');
			} else {
			var errormsg = '<p>Error: could not load the ZIP code XML feed.</p>';
			container.html(errormsg);
			}
			if (!officeName) { jQCC('#local-office-target').html('<p class="la-side"><strong>Error</strong>: No offices found near ZIP code ' + zipcode + '.</p>'); }
		});
}

function parseXml(xml){
if((ie > 0) && (ie <= 8)){
			var xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
			xmlDoc.loadXML(xml);
			xml = xmlDoc;
}
return xml;
}

function hideQuestion(id, val) {
		jQCC(id).fadeOut('slow', function() {
			jQCC(id).hide();
		});
		
	}

function validatePWForm() {
var x=document.forms["recover-password"]["USERNAME_3"].value;
if (x==null || x==""){
  alert("Please enter your username.");
  return false;
  }
var x=document.forms["recover-password"]["Email_1"].value;
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
if (x==null || x==""){
  alert("Email must be filled out");
  return false;
  }
if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length){
  alert("Not a valid e-mail address");
  return false;
  }
}
function validateUNForm() {
var x=document.forms["recover-username"]["Email_2"].value;
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
if (x==null || x==""){
  alert("Email must be filled out");
  return false;
  }
if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length){
  alert("Not a valid e-mail address");
  return false;
  }
}

function checkPasswordFields() {
	var hasError = false;
	var passwordVal = jQCC("#user_password").val();
	var checkVal = jQCC("#rePass").val();
	if (checkVal=="" || passwordVal=="") {
		hasError = true;
	} else if (checkVal.length < 5 || passwordVal.length < 5) {
		hasError = true;
	} else if (passwordVal != checkVal ) {
		hasError = true;
	}
	return hasError;
}

function updateUser() {
		// GET BIOGRAPHICAL INFORMATION FIELD VALUES
		var title = document.getElementById("cons_title").value;
		var suffix = document.getElementById("cons_suffix").value;
		var prof_suffix = document.getElementById("cons_prof_suffix").value;
		var fname = document.getElementById("cons_first_name").value;
		var mname = document.getElementById("cons_middle_name").value;
		var lname = document.getElementById("cons_last_name").value;
		var dob_month = document.getElementById("cons_birth_date_MONTH").value;
		var dob_day = document.getElementById("cons_birth_date_DAY").value;
		var dob_year = document.getElementById("cons_birth_date_YEAR").value;
		var birthday = dob_year+'-'+dob_month+'-'+dob_day;
		var gender = document.getElementById("cons_gender").value;
		var ethnicity = document.getElementById("cons_ethnicity").value;
		// GET CONTACT INFORMATION FIELD VALUES
		var email = document.getElementById("cons_email").value;
		var email_format = getCheckedValue(document.forms['profile-update'].elements['cons_email_format']);
		var email_opt = getCheckBox("cons_email_opt_in");
		var street1 = document.getElementById("cons_street1").value;
		var street2 = document.getElementById("cons_street2").value;
		var county = document.getElementById("home_county").value;
		var country = document.getElementById("cons_country").value;
		var city = document.getElementById("cons_city").value;
		var zip = document.getElementById("cons_zip_code").value;
		var cons_address_type = document.getElementById("cons_address_type").value;
		var state = document.getElementById("cons_state").value;
		var postal_opt = getCheckBox("cons_postal_opt_in");
		var phone = document.getElementById("cons_phone").value;
		var fax = document.getElementById("cons_fax").value;
		var phone_work = document.getElementById("work_phone").value;
		var phone_mobile = document.getElementById("mobile_phone").value;
		var txtmsg_opt = getCheckBox("txtmsg_opt");
		// GET ADDITIONAL INFORMATION FIELD VALUES
		var you_diabetes = document.getElementById("you_diabetes").value;
		var spouse_diabetes = document.getElementById("spouse_diabetes").value;
		var parent_diabetes = document.getElementById("parent_diabetes").value;
		var child_diabetes = document.getElementById("child_diabetes").value;
		var afam_diabetes = document.getElementById("afam_diabetes").value;
		var info_spanish = getCheckBox("info_spanish");
		var healthcare_prof = getCheckBox("healthcare_prof");
		var occupation = document.getElementById("cons_occupation").value;
		var employer = document.getElementById("cons_employer").value;
		
		
		jQCC.ajax({
			type: "POST",
			url: 'https://donations.diabetes.org/site/CRConsAPI',
			dataType: 'json',
			data: { 
				'method': 'update',
				'api_key': 'adap1234',
				'v': '1.0',
				'response_format': 'json',
				'auth': 'swcs6DJtb4-saXGO-VhXdm9q7jH13E3CUbKuz1vBRB_YNV80hSdoMFVWh6BlXIYK1hnSaq8XoK8',
				'cons_id': '',
				'name.first': fname, 
				'name.last': lname,
				'name.middle': mname,
				'name.title': title,
				'name.suffix': suffix,
				'name.prof_suffix': prof_suffix,
				'birth_date': birthday,
				'ethnicity': ethnicity,
				'email.primary_address': email,
				'email.preferred_format': email_format,
				'email.accepts_email': email_opt,
				'primary_address.street1': street1,
				'primary_address.street2': street2,
				'primary_address.country': country,
				'primary_address.city': city,
				'primary_address.zip': zip,
				'districts.home_county_id': county,
				'primary_address.state': state,
				'accepts_postal_mail': postal_opt,
				'home_phone': phone,
				'home_fax': fax,
				'work_phone': phone_work,
				'mobile_phone': phone_mobile,
				'custom_string7': you_diabetes,
				'custom_string3': spouse_diabetes,
				'custom_string4': parent_diabetes,
				'custom_string8': child_diabetes,
				'custom_string10': afam_diabetes,
				'custom_boolean14': info_spanish,
				'custom_boolean3': healthcare_prof,
				'employment.occupation': occupation,
				'cons_gender': gender,
				'primary_address.country': country,
				'custom_string1': cons_address_type,
				'custom_boolean50': txtmsg_opt,
				'employment.employer': employer
			},
			success: function(data) {
				jQCC('#profupdate_warning').html('<p class="success" style="vertical-align: middle;"><img src="../images/constcenter/success.png" alt="success" style="vertical-align: middle; margin-right: 5px;" />Update Successful!</p>').fadeIn(200).delay(2000).fadeOut(200);
			},
			error: function(data) {
				var json = jQCC.parseJSON(data.response);
				/* 9/3/13 - RH - change from alerting server error response
				alert(json.errorResponse.message);
				*/
				alert("There has been a problem updating your record. Please contact ConstituentCenter@diabetes.org with the information that you would like to have updated.");
				jQCC('#profupdate_warning').html('<p class="warning">Error!</p>').fadeIn(200).delay(2000).fadeOut(200);
			}
		});			
	}
    var orig_user_name = "";
	function updateUsername() {
		var user_name = document.getElementById("user_name").value;
		if (orig_user_name!=user_name) { //check that the username is being changed and isn't pre-loaded value
			jQCC.ajax({
				type: "POST",
				url: 'https://donations.diabetes.org/site/CRConsAPI',
				dataType: 'json',
				data: { 
					'method': 'update',
					'api_key': 'adap1234',
					'v': '1.0',
					'response_format': 'json',
					'auth': 'swcs6DJtb4-saXGO-VhXdm9q7jH13E3CUbKuz1vBRB_YNV80hSdoMFVWh6BlXIYK1hnSaq8XoK8',
					'cons_id': '',
					'user_name': user_name
				},
				success: function(data) {
					jQCC('#username_warning').html('<p class="success" style="vertical-align: middle;"><img src="../images/constcenter/success.png" alt="success" style="vertical-align: middle; margin-right: 5px;" />Username changed!</p>').fadeIn(200).delay(2000).fadeOut(200);
					orig_user_name=user_name; //update current username variable;
				},
				error: function(data) {
					var json = jQCC.parseJSON(data.response);
					jQCC('#username_warning').html('<p class="warning">'+json.errorResponse.message+'</p>');
					//alert(json.errorResponse.message);
				}
			});
		}
	}
	function updateUserLogin() {
		// GET INPUT FIELD VALUES
		var old_password = document.getElementById("oldPass").value;	
		var new_pass = document.getElementById("user_password").value;	
		var new_pass_re = document.getElementById("rePass").value;	
		var pw_reminder = document.getElementById("pw_reminder").value;
		
		jQCC.ajax({
			type: "POST",
			url: 'https://donations.diabetes.org/site/CRConsAPI',
			dataType: 'json',
			data: { 
				'method': 'changePassword',
				'api_key': 'adap1234',
				'v': '1.0',
				'response_format': 'json',
				'auth': 'swcs6DJtb4-saXGO-VhXdm9q7jH13E3CUbKuz1vBRB_YNV80hSdoMFVWh6BlXIYK1hnSaq8XoK8',
				'cons_id': '',
				'old_password': old_password,
				'user_password': new_pass,
				'retype_password': new_pass_re,
				'reminder_hint': pw_reminder
			},
			success: function(data) {
				var messageText = data.updateConsResponse.message;
				var cons_id = data.updateConsResponse.cons_id;
				jQCC('.updateResult').html('Message: ' + messageText + '<br>cons_id: ' + cons_id);
				jQCC('#oldPass_warning').html('<p class="success" style="vertical-align: middle;"><img src="../images/constcenter/success.png" alt="success" style="vertical-align: middle; margin-right: 5px;" />Password changed!</p>').fadeIn(200).delay(2000).fadeOut(200);
				jQCC('#newPass_warning').html('');
				jQCC('#rePass_warning').html('');
				jQCC('#pw_reminder_warning').html('');
				jQCC('#user_password').removeClass('green-input');
				jQCC('#rePass').removeClass('green-input');
				jQCC('#login-update').each(function(){
					this.reset();
				});
			},
			error: function(data) {
				/*pw_errors = checkPasswordFields();
				if (!pw_errors) {
					jQCC('#oldPass_warning').html('<p class="warning">Incorrect Password.</p>').fadeIn(200);
				}*/
                alert("Password Update Failed because of following reason: "+data.responseText);
			}
		});	
	}

function removeCommas(str) {
    return(str.replace(/,/g,''));
}
function getCheckedValue(radioObj) {
	if(!radioObj)
		return "";
	var radioLength = radioObj.length;
	if(radioLength == undefined)
		if(radioObj.checked)
			return radioObj.value;

		else
			return "";
	for(var i = 0; i < radioLength; i++) {
		if(radioObj[i].checked) {
			return radioObj[i].value;
		}
	}
	return "";
}
function getCheckBox(box){
  if (document.getElementById(box).checked){
	return true;
  }else{
	return false;
  }
}
function validateForm()
{
var x=document.forms["reg-form"]["cons_first_name"].value;
if (x==null || x=="")
  {
  alert("First name must be filled out");
  return false;
  }
var x=document.forms["reg-form"]["cons_last_name"].value;
if (x==null || x=="")
  {
  alert("Last name must be filled out");
  return false;
  }
var x=document.forms["reg-form"]["cons_email"].value;
var atpos=x.indexOf("@");
var dotpos=x.lastIndexOf(".");
if (x==null || x=="")
  {

  alert("Email must be filled out");
  return false;
  }
if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length)
  {
  alert("Not a valid e-mail address");
  return false;
  }
var x=document.forms["reg-form"]["cons_zip_code"].value;
if (x==null || x=="")
  {
  alert("Zip Code must be filled out");
  return false;
  }
if (x==null || x.length<5)
  {
  alert("Not a valid Zip Code");
  return false;
  }
var x=document.forms["reg-form"]["cons_user_name"].value;
if (x==null || x.length<5)
  {
  alert("Invalid User Name");
  return false;
  }
if (x==null || x.length<5)
  {
  alert("Not a valid Zip Code");
  return false;
  }
var x=document.forms["reg-form"]["cons_password"].value;
var y=document.forms["reg-form"]["cons_rep_password"].value;
if (x==null || x.length<5)
  {
  alert("Invalid Password");
  return false;
  }
if (x != y)
  {
  alert("Passwords do not match");
  return false;
  }
}






</script>


<script type="text/javascript"> 
var $buoop = {c:2}; 
function $buo_f(){ 
 var e = document.createElement("script"); 
 e.src = "//browser-update.org/update.min.js"; 
 document.body.appendChild(e);
};
try {document.addEventListener("DOMContentLoaded", $buo_f,false)}
catch(e){window.attachEvent("onload", $buo_f)}
</script>




</body>

</html>
